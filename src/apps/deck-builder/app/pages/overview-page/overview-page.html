<div class="deck-pane">
	<div class="heading">
		<h1>{{deckName() || 'New deck'}}</h1>
		<span>{{totalCardQuantity()}} cards in deck</span>
	</div>
	<div class="deck-actions">
		@if(existingDeck()) {
		<button (click)="updateCollectionCardDeck()">Save</button>
		}
		@else {
		<button (click)="addCollectionCardDeck()">Save</button>
		}
		<button (click)="openLoadDeckDialog()">Load deck</button>
		<button [disabled]="!existingDeck()" (click)="addCollectionCardDeck()">Create copy</button>
		<button (click)="reset()">Reset</button>
		<button [disabled]="!existingDeck()" (click)="deleteCollectionCardDeck()">Delete</button>
		<button (click)="openLimitlessDeckBuilder()">Share</button>
	</div>
	<div class="deck-cards">
		@for(card of deckCards(); track card.id) {
		<tcg-card (click)="openCardDetail(card)" [quantity]="card.quantity" class="deck-card"
			[style.--background-image-url]="`url(${card.image}/low.webp)`"></tcg-card>
		}
	</div>
</div>
<collection-pane [sortedTcgDexCollectionCards]="sortedTcgDexCollectionCards()" [searchForm]="searchForm"
	[inRotationFilterForm]="inRotationFilterForm" [pokemonTypeFilterForm]="pokemonTypeFilterForm"
	(openCardDetail)="openCardDetail($event)"></collection-pane>
<card-detail [selectedDeckCard]="selectedDeckCard()" (removeCard)="removeCard($event)"
	(addCard)="addCard($event)"></card-detail>
<load-deck-dialog [loadDeckForm]="loadDeckForm" [sortedCollectionDecks]="sortedCollectionDecks()"
	(loadDeck)="loadDeck()"></load-deck-dialog>
