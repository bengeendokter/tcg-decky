<div class="deck-pane">
	<div class="heading">
		<h1>New deck</h1>
		<span>{{totalCardQuantity()}} cards in deck</span>
	</div>
	<div class="deck-actions">
		@if(existingDeck()) {
		<button>Update</button>
		}
		@else {
		<button (click)="addCollectionCardDeck()">Save</button>
		}
		<button>Load deck</button>
		<button [disabled]="!existingDeck()">Create copy</button>
		<button (click)="reset()">Reset</button>
		<button [disabled]="!existingDeck()">Delete</button>
		<button (click)="openLimitlessDeckBuilder()">Share</button>
	</div>
	<div class="deck-cards">
		@for(card of deckCards(); track card.id) {
		<tcg-card (click)="openDetail(card)" [quantity]="card.quantity" class="deck-card"
			[style.--background-image-url]="`url(${card.image}/low.webp)`"></tcg-card>
		}
	</div>
</div>
<div class="collection-pane">
	<div class="collection-actions">
		<search>
			<input type="search" [field]="searchForm" placeholder="Search name">
		</search>
		<button>Fullscreen</button>
	</div>
	<div class="collection-cards">
		@for(card of sortedTcgDexCollectionCards(); track card.id) {
		<tcg-card (click)="openDetail(card)" [quantity]="getQuantitySum(card.variants)"
			[style.--background-image-url]="`url(${card.image}/low.webp)`"></tcg-card>
		}
	</div>
</div>
@let detailCard = selectedDeckCard();
<dialog #dialog closedby="any">
	<div class="detail">
		@if(detailCard) {
		@let deckQuantity = detailCard.quantity;
		@let collectionQuantity = getQuantitySum(detailCard.variants);
		<tcg-card (click)="closeDialog()" class="detail-card"
			[style.--background-image-url]="`url(${detailCard.image}/high.webp)`"></tcg-card>
		<div class="detail-actions">
			<button (click)="removeCard(detailCard)" [disabled]="deckQuantity === 0">-</button>
			<span>{{deckQuantity.toString().padStart(2,
				"0")}}/{{collectionQuantity.toString().padStart(2, "0")}}</span>
			<button (click)="addCard(detailCard)" [disabled]="deckQuantity === collectionQuantity">+</button>
		</div>
		}
	</div>
</dialog>